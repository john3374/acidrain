var m="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){if(a==Array.prototype||a==Object.prototype)return a;a[b]=e.value;return a};function aa(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var e=a[b];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");}var q=aa(this);
function r(a,b){if(b)a:{var e=q;a=a.split(".");for(var f=0;f<a.length-1;f++){var h=a[f];if(!(h in e))break a;e=e[h]}a=a[a.length-1];f=e[a];b=b(f);b!=f&&null!=b&&m(e,a,{configurable:!0,writable:!0,value:b})}}function t(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function v(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:t(a)}}function w(){this.i=!1;this.g=null;this.o=void 0;this.j=1;this.m=0;this.h=null}
function x(a){if(a.i)throw new TypeError("Generator is already running");a.i=!0}w.prototype.l=function(a){this.o=a};function y(a,b){a.h={H:b,I:!0};a.j=a.m}w.prototype.return=function(a){this.h={return:a};this.j=this.m};function ba(a){this.g=new w;this.h=a}function ca(a,b){x(a.g);var e=a.g.g;if(e)return z(a,"return"in e?e["return"]:function(f){return{value:f,done:!0}},b,a.g.return);a.g.return(b);return A(a)}
function z(a,b,e,f){try{var h=b.call(a.g.g,e);if(!(h instanceof Object))throw new TypeError("Iterator result "+h+" is not an object");if(!h.done)return a.g.i=!1,h;var l=h.value}catch(c){return a.g.g=null,y(a.g,c),A(a)}a.g.g=null;f.call(a.g,l);return A(a)}function A(a){for(;a.g.j;)try{var b=a.h(a.g);if(b)return a.g.i=!1,{value:b.value,done:!1}}catch(e){a.g.o=void 0,y(a.g,e)}a.g.i=!1;if(a.g.h){b=a.g.h;a.g.h=null;if(b.I)throw b.H;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function da(a){this.next=function(b){x(a.g);a.g.g?b=z(a,a.g.g.next,b,a.g.l):(a.g.l(b),b=A(a));return b};this.throw=function(b){x(a.g);a.g.g?b=z(a,a.g.g["throw"],b,a.g.l):(y(a.g,b),b=A(a));return b};this.return=function(b){return ca(a,b)};this[Symbol.iterator]=function(){return this}}function ea(a){function b(f){return a.next(f)}function e(f){return a.throw(f)}new Promise(function(f,h){function l(c){c.done?f(c.value):Promise.resolve(c.value).then(b,e).then(l,h)}l(a.next())})}
r("Symbol",function(a){function b(h){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new e("jscomp_symbol_"+(h||"")+"_"+f++,h)}function e(h,l){this.g=h;m(this,"description",{configurable:!0,writable:!0,value:l})}if(a)return a;e.prototype.toString=function(){return this.g};var f=0;return b});
r("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),e=0;e<b.length;e++){var f=q[b[e]];"function"===typeof f&&"function"!=typeof f.prototype[a]&&m(f.prototype,a,{configurable:!0,writable:!0,value:function(){return fa(t(this))}})}return a});function fa(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
r("Promise",function(a){function b(c){this.h=0;this.i=void 0;this.g=[];this.o=!1;var d=this.j();try{c(d.resolve,d.reject)}catch(g){d.reject(g)}}function e(){this.g=null}function f(c){return c instanceof b?c:new b(function(d){d(c)})}if(a)return a;e.prototype.h=function(c){if(null==this.g){this.g=[];var d=this;this.i(function(){d.l()})}this.g.push(c)};var h=q.setTimeout;e.prototype.i=function(c){h(c,0)};e.prototype.l=function(){for(;this.g&&this.g.length;){var c=this.g;this.g=[];for(var d=0;d<c.length;++d){var g=
c[d];c[d]=null;try{g()}catch(k){this.j(k)}}}this.g=null};e.prototype.j=function(c){this.i(function(){throw c;})};b.prototype.j=function(){function c(k){return function(n){g||(g=!0,k.call(d,n))}}var d=this,g=!1;return{resolve:c(this.C),reject:c(this.l)}};b.prototype.C=function(c){if(c===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof b)this.F(c);else{a:switch(typeof c){case "object":var d=null!=c;break a;case "function":d=!0;break a;default:d=!1}d?this.B(c):this.m(c)}};
b.prototype.B=function(c){var d=void 0;try{d=c.then}catch(g){this.l(g);return}"function"==typeof d?this.G(d,c):this.m(c)};b.prototype.l=function(c){this.u(2,c)};b.prototype.m=function(c){this.u(1,c)};b.prototype.u=function(c,d){if(0!=this.h)throw Error("Cannot settle("+c+", "+d+"): Promise already settled in state"+this.h);this.h=c;this.i=d;2===this.h&&this.D();this.J()};b.prototype.D=function(){var c=this;h(function(){if(c.K()){var d=q.console;"undefined"!==typeof d&&d.error(c.i)}},1)};b.prototype.K=
function(){if(this.o)return!1;var c=q.CustomEvent,d=q.Event,g=q.dispatchEvent;if("undefined"===typeof g)return!0;"function"===typeof c?c=new c("unhandledrejection",{cancelable:!0}):"function"===typeof d?c=new d("unhandledrejection",{cancelable:!0}):(c=q.document.createEvent("CustomEvent"),c.initCustomEvent("unhandledrejection",!1,!0,c));c.promise=this;c.reason=this.i;return g(c)};b.prototype.J=function(){if(null!=this.g){for(var c=0;c<this.g.length;++c)l.h(this.g[c]);this.g=null}};var l=new e;b.prototype.F=
function(c){var d=this.j();c.s(d.resolve,d.reject)};b.prototype.G=function(c,d){var g=this.j();try{c.call(d,g.resolve,g.reject)}catch(k){g.reject(k)}};b.prototype.then=function(c,d){function g(p,u){return"function"==typeof p?function(L){try{k(p(L))}catch(M){n(M)}}:u}var k,n,N=new b(function(p,u){k=p;n=u});this.s(g(c,k),g(d,n));return N};b.prototype.catch=function(c){return this.then(void 0,c)};b.prototype.s=function(c,d){function g(){switch(k.h){case 1:c(k.i);break;case 2:d(k.i);break;default:throw Error("Unexpected state: "+
k.h);}}var k=this;null==this.g?l.h(g):this.g.push(g);this.o=!0};b.resolve=f;b.reject=function(c){return new b(function(d,g){g(c)})};b.race=function(c){return new b(function(d,g){for(var k=v(c),n=k.next();!n.done;n=k.next())f(n.value).s(d,g)})};b.all=function(c){var d=v(c),g=d.next();return g.done?f([]):new b(function(k,n){function N(L){return function(M){p[L]=M;u--;0==u&&k(p)}}var p=[],u=0;do p.push(void 0),u++,f(g.value).s(N(p.length-1),n),g=d.next();while(!g.done)})};return b});
var ha=document.getElementById("elapsed"),B=document.getElementById("gameInput"),C=document.getElementById("life"),D=document.getElementById("game"),ia=document.getElementById("score"),ja=document.getElementById("correct"),ka=document.getElementById("wrong"),la=document.getElementById("accuracy"),E=document.getElementById("gameover-container"),ma=document.getElementById("gameover"),na=document.getElementById("btnClose"),F=document.getElementById("titleText"),G=D.getContext("2d"),H=1E3,I=0,J=18,K=
0,O=0,P=1,Q=10,R=26,S=[],T="\ucee4\ub2e4\ub797\ub2e4 \uc0b0\ub4e4\ubc14\ub78c \ubc14\ub85c\uc7a1\ub2e4 \uaf41\uc9c0 \uc148\ud2c0 \ub369\ub2ec\ub2e4 \uae38\ucb49\ud558\ub2e4 \ub2f4\ube61 \uc090\uc8fd\uc774 \ubb34\ub7ed\ubb34\ub7ed".split(" "),U=0,oa=0,V=!0,W=!0,X=0,pa=setInterval(function(){var a=++I,b=Math.floor(a/60);a%=60;ha.innerHTML=(10>b?"0"+b:b)+":"+(10>a?"0"+a:a);H=1E3-(new Date).getTime()%1E3},H);
function Y(){if(W){var a=(new Date).getTime(),b=D.offsetWidth,e=D.offsetHeight,f=1800-100*P;G.canvas.width=b;G.canvas.height=e;if(a-oa>f){if(R-K>S.length&&(2<X||Math.random()<(P+50)/100)){f=S.push;var h=T[U++];U>=T.length&&(U=0,qa());f.call(S,{A:h,x:Math.random()*(b-70),y:0,v:.04>Math.random()?!0:!1});X=0}else X++;for(var l in S)S[l].y+=20,S[l].y>e&&(delete S[l],S.splice(l,1),ra(--J));oa=a}K>=R&&(R+=26+2*P,Z(++P+"  \ub180 \uc774 \ub9c8 \ub2f9"),F.innerHTML="\ud55c\ucef4\ud0c0\uc790\uc5f0\uc2b5 (\ub180\uc774\ub9c8\ub2f9 "+
P+")");G.clearRect(0,0,D.offsetWidth,D.offsetHeight);G.font="600 1.5em \ubc14\ud0d5";for(var c in S)a=S[c],b=a.A,e=a.x,l=a.y,G.fillStyle=a.v?"cyan":"black",G.fillText(b,e,l);V&&(0<J?setTimeout(Y,30):sa())}}
function sa(){W=!1;clearInterval(pa);Z("\ub180\uc774\uac00 \ub05d\ub0ac\uc2b5\ub2c8\ub2e4.");var a=new XMLHttpRequest;a.open("POST","record.php",!0);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send("score="+Q+"&correct="+K+"&wrong="+O+"&time="+I+"&level="+P+"&name=\uc774\ub984 \uc5c6\uc74c")}function Z(a){V=!1;ma.innerHTML=a;E.style.display="flex"}
function qa(){var a;ea(new da(new ba(function(b){a=new XMLHttpRequest;a.onreadystatechange=function(e){4===e.target.readyState&&200===e.target.status&&e.target.responseText?T=JSON.parse(e.target.responseText):T="\ucee4\ub2e4\ub797\ub2e4 \uc0b0\ub4e4\ubc14\ub78c \ubc14\ub85c\uc7a1\ub2e4 \uaf41\uc9c0 \uc148\ud2c0 \ub369\ub2ec\ub2e4 \uae38\ucb49\ud558\ub2e4 \ub2f4\ube61 \uc090\uc8fd\uc774 \ubb34\ub7ed\ubb34\ub7ed".split(" ")};a.open("GET","morewords.php",!0);a.send();b.j=0})))}
function ra(a){C.innerHTML="";for(var b=0;18>b;b++)C.innerHTML+='<span class="'+(b<a?"":"no")+'life"> </span>'}function ta(){!V&&W&&(E.style.display="none",B.focus(),V=!0,Y())}
window.onload=function(){ra(J);D.setAttribute("height",D.offsetHeight);D.setAttribute("width",D.offsetWidth);F.innerHTML="\ud55c\ucef4\ud0c0\uc790\uc5f0\uc2b5 (\ub180\uc774\ub9c8\ub2f9 "+P+")";na.addEventListener("click",function(){return sa()});B.addEventListener("keyup",function(a){if("Space"===a.code||"Enter"===a.code){if(""!==B.value.trim()){a=!1;for(var b in S)if(S[b].A===B.value.trim()){Q+=S[b].v?50:30;delete S[b];S.splice(b,1);a=!0;break}a?K++:O++;ia.innerHTML=Q;ja.innerHTML="\uc815\ud0c0:"+
K;ka.innerHTML="\uc624\ud0c0:"+O;la.innerHTML="\uc815\ud655\ub3c4:"+(0!==K+O?Math.round(K/(K+O)*100):0)+"%"}else"flex"===E.style.display&&(E.style.display="none",V=!0,Y());B.value=""}else"Escape"===a.code&&(J=0)});B.addEventListener("focusin",function(){return ta()});B.addEventListener("focusout",function(){return Z("\uc77c \uc2dc \uc815 \uc9c0")});E.addEventListener("click",function(){return ta()});qa();Y()};
